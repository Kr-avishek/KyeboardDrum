<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <title>Drum Keys</title>
        <link rel="shortcut icon" href="sounds/Kr logo.png" type="image/x-icon">
    </head>
    <body>
        <div class="container">
            <ul class="elms">
                <li data-key="65" class="key">
                    <kbd>A</kbd>
                    <span class="sound">CLAP</span>
                </li>
                <li data-key="83" class="key">
                    <kbd>S</kbd>
                    <span class="sound">HIHAT</span>
                </li>
                <li data-key="68" class="key">
                    <kbd >D</kbd>
                    <span class="sound">KICK</span>
                </li>
                <li data-key="70" class="key">
                    <kbd >F</kbd>
                    <span class="sound">OPENHAT</span>
                </li>
                <li data-key="71" class="key">
                    <kbd>G</kbd>
                    <span class="sound">BOOM</span>
                </li>
                <li data-key="72" class="key">
                    <kbd>H</kbd>
                    <span class="sound">RIDE</span>
                </li>
                <li data-key="74" class="key">
                    <kbd >J</kbd>
                    <span class="sound">SNARE</span>
                </li>
                <li data-key="75" class="key">
                    <kbd >K</kbd>
                    <span class="sound">TOM</span>
                </li>
                <li data-key="76" class="key">
                    <kbd>L</kbd>
                    <span class="sound">TINK</span>
                </li>
            </ul>
        </div>
        <audio data-key="65" src="/sounds/32_Clap_12_201_SP.wav"></audio>
        <audio data-key="83" src="/sounds/40_FragmentsSnare_817.wav"></audio>
        <audio data-key="68" src="/sounds/46_PixelsOHiHat_01_793.wav"></audio>
        <audio data-key="70" src="/sounds/909Ride_09_630.wav"></audio>
        <audio data-key="71" src="/sounds/blade-on-wood-metal-clank-tink-63689.mp3"></audio>
        <audio data-key="72" src="/sounds/electronic-impact-hard-10018.mp3"></audio>
        <audio data-key="74" src="sounds/Kicks_506_SP_46.wav"></audio>
        <audio data-key="75" src="sounds/Shaker_01_321_SP.wav"></audio>
        <audio data-key="76" src="sounds/TD6K_Tom_109_73_SP.wav"></audio>
<script>
    //listening the events while pressing the buttons on keyboard
window.addEventListener('keydown',function(e){const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
//selecting buttons to perform transition and adding class 
const k = document.querySelector(`.key[data-key="${e.keyCode}"]`);
//is key is not associated with data-key/audio then stop the execution
if(!audio) return;
//play() will play it till full length so to play repeatedly instantly we've to reset currentTime 
audio.currentTime=0;
audio.play();
//adding class to .key
k.classList.add('active');
//callback for eventlistener
function removeTransition(e){
    if(e.propertyName!=='transform'){return ;};
    this.classList.remove('active');
}
const keys = document.querySelectorAll('.key');//will return an array of all the elements have key class;
//looping over the nodelist 
keys.forEach((elm)=>{elm.addEventListener('transitionend',removeTransition)})
}
)
</script>
</body>
</html>